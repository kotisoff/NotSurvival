# Changelog

## 0.2.6 Лол, движок на версии 0.26. Зелья, еда, дроп

- Обновлена документация.
- Дроп переделан под [стандартный](https://github.com/MihailRis/VoxelEngine-Cpp/blob/main/doc/ru/block-properties.md#%D0%BB%D1%83%D1%82---baseloot), отдельный юзер-проп для опыта и колбеков.
- Убрана поддержка дропов в папке resource.
- Установлены материалы и прочности для блоков.
- Добавлен юзер-проп для еды. Рекомендуется использовать его вместо скриптов.
- Обновлено апи. Функции распределены в подмодули.
- Убран гуи для управления дропами и команда для его вызова.
- Регистр не понятно зачем, но существует.
- Эффекты. Базовый класс эффекта для создания своих. Юзер-проп для зелий и еды с эффектами.
- Добавлен звук рыгания и питья. (feat Разделение еды на типы.)
- Много значительных и не очень фиксов.

## 0.2.5 Новогоднее обновление

- Файлы перераспределены по проекту.
- Добавлено плавание и звуки плавания.
- Предметы тоже плавают.
- Переписан дроп. Теперь его можно добавить и из скриптинга, и с помощью json в папке `resources/data/loot_table/blocks`.
- Импорты все переписаны через api. Меньше проблем для меня.
- Небольшая утилита sleeping для сна. Пока содержит только sleeping.sleep.
- Добавлена кровать с плавной анимацией сна (устанавливает позицию спавна игрока).
- Добавлена утилита title для показа текста на экран.
- Доделана сущность сферы опыта. Теперь она будет падать из блоков и т.п.
- Смерть игрока была выделена в виде модуля api.
- Добавлена команда spawnpoint.
- Переделаны циклы, адаптируются к тикрейту.
- Переписан дроп. (Также добавлен конвертер дропа, старый дроп спокойно сконвертируется в новый.)
- Добавлен интерфейс для установки приоритета загрузки и перезагрузки дропа. (WIP)
- Функция поедания изменена! Аргумент eat_anyway был перенесён с 6 на 4 позицию.
- Правила игры и команды теперь подгружаются после худа.
- Выделил отдельно сон.
- Множество мелких фиксов.

## 0.2.0 Обновление на 0.25. Обновление звука

- Фикс урона от падения. Теперь скрипты событий урона отдельно от других скриптов (ура!).
- Перепесаны данные игрока с 1 файла json на данные entity мира.
- Автоматическая конвертация данных игрока.
- Добавлено множество звуков: от падения до поднятия уровня.
- Добавлена прикольная анимация потребления еды, улучшено апи голода.
- Добавлена сытость.
- Переделан опыт. Теперь он хранится не в уровнях и очках, а просто в очках. Доработано апи опыта.
- Апи мода наконец доступно через `not_survival:api`.
- Добавлено ограничение скорости. (Также автоматически отключает полёт).
- Медленное разрушение блоков.
- Добавлены свойства для предметов:
  1. `not_survival:tool_speed`. [Скорость ломания блоков.](https://minecraft.fandom.com/wiki/Breaking#Speed)
  2. `not_survival:tool_type`. Тип инструмента, массив из строк.
- Новые правила игры:
  1. `ns-instant-destruction`. По-умолчанию: false. Позволяет мгновенно разрушить блок.
  2. `ns-keep-inventory`. По-умолчанию: false. Сохранение инвентаря и уровней опыта после смерти игрока.
  3. `ns-control-speed`. По-умолчанию: true. Ограничение скорости игрока.
- Удалены не нужные команды, добавлены новые: /setname, /heal, /xp.add, /xp.drain, /summon, /logdata.
- Важно: координаты места смерти логируются в чате игры, только если сохранение инвентаря отключено.
- Добавлено энтити опыта. Не доработано и не задействовано в игре.

## 0.1.1 Небольшие фиксы

- Фикс саженцев
  Деревья устанавливаются корректно, по середине. Иногда саженец остаётся, это баг, который я не в силах пофиксить.
- Фикс команды surv.add_var. До этого работало как surv.set_var, теперь же оно добавляет к переменной.
- Добавлены рецепты двери и факелов для мода not_crafting.
- Добавлен файл custom_drops.lua, который можно было модифицировать, но смысла от него не было.

## 0.1.0 Релиз

Мод выпущен в [voxelworld.ru](https://voxelworld.ru) и [discord сервере mihailris](https://discord.com/invite/AaqJphm)

Добавлены:

- Шкалы для отображения состояния игрока в режиме выживания.
- Экран смерти.
- Урон от падения, голода и утопления.
- Крафты для [NotCrafting](https://github.com/kotisoff/NotCrafting): кирка для базальта, мёртвый куст, палка, деревянная кирка.
- Кастомный дроп. Изменить его можно пока только через скриптинг.
- Команды /gamemode, /kill, /give, /surv.\*, /hud.\*.
- Предметы: кремень, яблоко, уголь, палка и деревянная кирка (пока бесполезная).
- Блоки: булыжник, мёртвый куст и саженец.
